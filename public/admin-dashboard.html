<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GESINFRA - Panel Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .submenu-container {
            display: none;
            padding: 10px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
            margin-top: 5px;
        }

        .submenu-container.active {
            display: block;
        }

        .submenu-btn {
            padding: 12px 20px 12px 40px !important;
            font-size: 0.95rem;
            margin: 5px 0;
            background-color: rgba(255,255,255,0.05);
            border-left: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .submenu-btn:hover {
            background-color: rgba(255,255,255,0.1);
            border-left-color: currentColor;
        }

        .submenu-btn.active {
            background-color: rgba(255,255,255,0.15);
            border-left-color: currentColor;
        }

        .main-menu-btn {
            position: relative;
        }

        .main-menu-btn::after {
            content: '';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%) rotate(0deg);
            transition: transform 0.3s ease;
        }

        .main-menu-btn.expanded::after {
            transform: translateY(-50%) rotate(180deg);
        }
    </style>
</head>
<body>
    <div class="d-flex">
        <!-- SIDEBAR/NAVEGACIÓN -->
        <nav id="sidebar" class="sidebar p-3">
            <h3 class="text-center mb-4 text-danger">ADMIN PANEL</h3>
            <p class="text-center text-white-50 small mb-4" id="userInfo"></p>

            <div class="nav flex-column nav-pills">
                <!-- GESTIÓN DE USUARIOS -->
                <button class="nav-link sidebar-link active" data-bs-toggle="pill" data-bs-target="#nav-usuarios">
                    <i class="bi bi-people-fill me-2"></i> Gestión de Usuarios
                </button>

                <!-- GESTIÓN DE GRADOS -->
                <button class="nav-link sidebar-link" data-bs-toggle="pill" data-bs-target="#nav-grados">
                    <i class="bi bi-door-open-fill me-2"></i> Gestión de Grados
                </button>

                <!-- MATRÍCULAS (CON SUBMENÚ) -->
                <button class="nav-link sidebar-link main-menu-btn" id="btnMatriculas" onclick="toggleSubMenu('matriculas-submenu', 'btnMatriculas')">
                    <i class="bi bi-clipboard-check me-2"></i> Matrículas
                    <i class="bi bi-chevron-down ms-2 float-end" style="font-size: 0.8rem;"></i>
                </button>
                <div class="submenu-container" id="matriculas-submenu">
                    <button class="nav-link sidebar-link submenu-btn" data-bs-toggle="pill" data-bs-target="#nav-matriculas">
                        <i class="bi bi-file-earmark-check me-2"></i> Gestión de Matrículas
                    </button>
                    
                </div>

                <!-- INVENTARIO (CON SUBMENÚ) -->
                <button class="nav-link sidebar-link main-menu-btn" id="btnInventario" onclick="toggleSubMenu('inventario-submenu', 'btnInventario')">
                    <i class="bi bi-cpu-fill me-2"></i> Inventario
                    <i class="bi bi-chevron-down ms-2 float-end" style="font-size: 0.8rem;"></i>
                </button>
                <div class="submenu-container" id="inventario-submenu">
                    <button class="nav-link sidebar-link submenu-btn" data-bs-toggle="pill" data-bs-target="#nav-inventario">
                        <i class="bi bi-pc-display me-2"></i> Inventario de Equipos
                    </button>
                    <button class="nav-link sidebar-link submenu-btn" data-bs-toggle="pill" data-bs-target="#nav-mantenimiento">
                        <i class="bi bi-tools me-2"></i> Gestión de Mantenimiento
                    </button>
                </div>

                <!-- ACCESIBILIDAD -->
                <button class="nav-link sidebar-link" data-bs-toggle="pill" data-bs-target="#nav-accesibilidad">
                    <i class="bi bi-universal-access-circle me-2"></i> Accesibilidad
                </button>

                <!-- VER CALIFICACIONES -->
                <button class="nav-link sidebar-link" data-bs-toggle="pill" data-bs-target="#nav-calificaciones-admin">
                    <i class="bi bi-graph-up-arrow me-2"></i> Ver Calificaciones
                </button>
            </div>

            <div class="mt-auto p-3">
                <button class="btn btn-outline-danger w-100" id="logoutBtn">
                    <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesión
                </button>
            </div>
        </nav>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="main-content flex-grow-1">
            <div class="tab-content">

                <!-- TAB: GESTIÓN DE USUARIOS -->
                <div class="tab-pane fade show active" id="nav-usuarios">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-danger">Gestión de Usuarios</h2>
                        
                        <!-- Formulario de Crear Usuario -->
                        <div class="card p-4 mb-4">
                            <h4>Crear Nuevo Usuario</h4>
                            <form id="createUserForm">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="newUsername" placeholder="Usuario" required>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="password" class="form-control" id="newPassword" placeholder="Contraseña" required>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="newFullName" placeholder="Nombre Completo" required>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="email" class="form-control" id="newEmail" placeholder="Email" required>
                                    </div>
                                    <div class="col-md-3">
                                        <select class="form-select" id="newRole" required>
                                            <option value="">Seleccionar Rol</option>
                                            <option value="admin">Administrador</option>
                                            <option value="docente">Docente</option>
                                            <option value="estudiante">Estudiante</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-danger">
                                            <i class="bi bi-person-plus-fill me-2"></i>Crear Usuario
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Tabla de Administradores -->
                        <div class="card p-4 mb-4 border-danger">
                            <h4 class="text-danger"><i class="bi bi-shield-lock-fill me-2"></i>Administradores</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>ID</th>
                                            <th>Usuario</th>
                                            <th>Nombre</th>
                                            <th>Email</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="adminTableBody"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Tabla de Docentes -->
                        <div class="card p-4 mb-4 border-primary">
                            <h4 class="text-primary"><i class="bi bi-person-workspace me-2"></i>Docentes</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>ID</th>
                                            <th>Usuario</th>
                                            <th>Nombre</th>
                                            <th>Email</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="docenteTableBody"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Tabla de Estudiantes -->
                        <div class="card p-4 border-success">
                            <h4 class="text-success"><i class="bi bi-person-video3 me-2"></i>Estudiantes</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>ID</th>
                                            <th>Usuario</th>
                                            <th>Nombre</th>
                                            <th>Email</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="estudianteTableBody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: GESTIÓN DE GRADOS -->
                <div class="tab-pane fade" id="nav-grados">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-primary">Gestión de Grados</h2>
                        
                        <!-- Formulario de Configuración -->
                        <div class="card p-4 mb-4">
                            <h4>Configurar Asignaturas por Grado</h4>
                            <form id="configAsignaturasForm">
                                <!-- Fila 1: Grado, Nivel y Asignatura -->
                                <div class="row g-3 mb-3">
                                    <div class="col-md-3">
                                        <label class="form-label small">Grado</label>
                                        <select class="form-select" id="gradoAsignatura" required>
                                            <option value="">Seleccionar Grado</option>
                                            <option value="1ro">1ro</option>
                                            <option value="2do">2do</option>
                                            <option value="3ro">3ro</option>
                                            <option value="4to">4to</option>
                                            <option value="5to">5to</option>
                                            <option value="6to">6to</option>
                                            <option value="7mo">7mo</option>
                                            <option value="8vo">8vo</option>
                                            <option value="9no">9no</option>
                                            <option value="10mo">10mo</option>
                                            <option value="1ro de Bachillerato">1ro Bachillerato</option>
                                            <option value="2do de Bachillerato">2do Bachillerato</option>
                                            <option value="3ro de Bachillerato">3ro Bachillerato</option>
                                        </select>
                                    </div>

                                    <div class="col-md-3">
                                        <label class="form-label small">Nivel Educativo</label>
                                        <select class="form-select" id="nivelAsignatura" required>
                                            <option value="">Seleccionar Nivel</option>
                                            <option value="EGB">EGB</option>
                                            <option value="BGU">BGU</option>
                                        </select>
                                    </div>

                                    <div class="col-md-4">
                                        <label class="form-label small">Asignatura/Materia</label>
                                        <input type="text" class="form-control" id="nombreAsignatura" 
                                               placeholder="Nombre de la asignatura" required>
                                    </div>
                                </div>

                                <!-- Fila 2: Docente y Paralelo -->
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label small">Asignar Docente (Opcional)</label>
                                        <select class="form-select" id="docenteAsignatura">
                                            <option value="">Seleccionar Docente</option>
                                        </select>
                                        <small class="text-muted">Puede asignar el docente ahora o después desde la tabla</small>
                                    </div>

                                    <div class="col-md-3">
                                        <label class="form-label">Paralelo</label>
                                        <select class="form-select" id="paraleloAsignatura" required>
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                            <option value="E">E</option>
                                            <option value="F">F</option>
                                        </select>
                                    </div>

                                    <div class="col-md-3 d-flex align-items-end">
                                        <button type="submit" class="btn btn-primary w-100">
                                            <i class="bi bi-plus-circle me-1"></i>Agregar
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Tabla de Grados y Asignaturas -->
                        <div class="card p-4">
                            <h4>Grados y Asignaturas Configuradas</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Grado</th>
                                            <th>Paralelo</th>
                                            <th>Estudiantes</th>
                                            <th>Asignaturas</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="gradosAsignaturasTableBody">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: MATRÍCULAS (GESTIÓN) -->
                <div class="tab-pane fade" id="nav-matriculas">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-info">
                            <i class="bi bi-clipboard-check me-2"></i>
                            Gestión de Matrículas
                        </h2>
                        
                        <!-- Formulario de Registro de Matrícula -->
                        <div class="card p-4 mb-4">
                            <h4>Registrar Nueva Matrícula</h4>
                            <form id="matriculaForm">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label class="form-label small">Cédula del Estudiante</label>
                                        <input type="text" class="form-control" id="matriculaCedula" 
                                               placeholder="0123456789" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label small">Nombre Completo</label>
                                        <input type="text" class="form-control" id="matriculaNombre" 
                                               placeholder="Juan Pérez García" required>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label small">Género</label>
                                        <select class="form-select" id="matriculaGenero" required>
                                            <option value="">Seleccionar</option>
                                            <option value="Masculino">Masculino</option>
                                            <option value="Femenino">Femenino</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label small">Período Académico</label>
                                        <input type="text" class="form-control" id="matriculaPeriodo" 
                                               placeholder="2025-2026" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label small">Grado</label>
                                        <select class="form-select" id="matriculaGrado" required>
                                            <option value="">Seleccionar Grado</option>
                                        </select>
                                    </div>

                                    <!-- Campos Ocultos -->
                                    <input type="hidden" id="matriculaNivel" value="">
                                    <input type="hidden" id="matriculaParalelo" value="">

                                    <div class="col-12">
                                        <button type="submit" class="btn btn-info">
                                            <i class="bi bi-clipboard-check me-2"></i>Registrar Matrícula
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Tabla de Matrículas Registradas -->
                        <div class="card p-4">
                            <h4>Matrículas Registradas</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Cédula</th>
                                            <th>Nombre</th>
                                            <th>Género</th>
                                            <th>Período Académico</th>
                                            <th>Grado</th>
                                            <th>Nivel</th>
                                            <th>Paralelo</th>
                                            <th>Fecha Matrícula</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="matriculasTableBody">
                                        <tr>
                                            <td colspan="9" class="text-center text-muted">
                                                No hay matrículas registradas
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                


                <!-- TAB: INVENTARIO (EQUIPOS) -->
                <div class="tab-pane fade" id="nav-inventario">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-info">Inventario de Equipos</h2>
                        
                        <!-- Formulario de Registro de Activos -->
                        <div class="card p-4 mb-4">
                            <h4>Registrar Nuevo Activo</h4>
                            <form id="assetForm">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="codActivo" placeholder="Código Activo" required>
                                    </div>
                                    <div class="col-md-3">
                                        <select class="form-select" id="tipoEquipo" required>
                                            <option value="">Tipo de Equipo</option>
                                            <option value="Computador">Computador</option>
                                            <option value="Servidor">Servidor</option>
                                            <option value="Proyector">Proyector</option>
                                            <option value="Impresora">Impresora</option>
                                            <option value="Otro">Otro</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" id="ubicacion" placeholder="Ubicación" required>
                                    </div>
                                    <div class="col-md-3">
                                        <select class="form-select" id="estado" required>
                                            <option value="Operativo">Operativo</option>
                                            <option value="Mantenimiento">Mantenimiento</option>
                                            <option value="Desuso">Desuso</option>
                                        </select>
                                    </div>
                                    <div class="col-12">
                                        <textarea class="form-control" id="descripcion" placeholder="Descripción" rows="2" required></textarea>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-info">
                                            <i class="bi bi-plus-circle me-2"></i>Añadir Activo
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Tabla de Inventario -->
                        <div class="card p-4">
                            <h4>Inventario Actual</h4>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead class="table-dark">
                                        <tr>
                                            <th>Código</th>
                                            <th>Tipo</th>
                                            <th>Ubicación</th>
                                            <th>Estado</th>
                                            <th>Descripción</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="inventoryTableBody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: MANTENIMIENTO -->
                <div class="tab-pane fade" id="nav-mantenimiento">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-success">
                            <i class="bi bi-tools me-2"></i>
                            Gestión de Mantenimiento
                        </h2>

                        <!-- Botón de Control de Tabla -->
                        <div class="d-flex justify-content-end mb-3">
                            <button id="btnToggleMantenimiento" class="btn btn-sm btn-outline-success" 
                            onclick="toggleTablaMantenimiento()" title="Cerrar tabla de mantenimiento">
                            <i class="bi bi-chevron-up"></i> Cerrar Cronograma
                            </button>
                        </div>
                        
                        <!-- Cronograma de Tareas de Mantenimiento -->
                        <div class="card p-4 mb-4 border-success" id="tablaMantContainer">
                            <h4 class="text-success">
                                <i class="bi bi-calendar-check me-2"></i>
                                Cronograma de Tareas de Mantenimiento
                            </h4>
                            
                            <!-- Formulario para agregar tareas -->
                            <form id="formNuevaTareaMantenimiento" class="row g-3 mb-3">
                                <div class="col-md-8">
                                    <label class="form-label small">Nombre de la Tarea</label>
                                    <input type="text" class="form-control" id="nombreTareaMantenimiento" 
                                           placeholder="Ej: Limpieza física completa" required>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label small">Frecuencia</label>
                                    <select class="form-select" id="frecuenciaTareaMantenimiento" required>
                                        <option value="">Seleccionar</option>
                                        <option value="M">Mensual</option>
                                        <option value="B">Bimestral</option>
                                        <option value="S">Semestral</option>
                                        <option value="N">Nunca/Única</option>
                                    </select>
                                </div>
                                <div class="col-md-2 d-flex align-items-end">
                                    <button type="submit" class="btn btn-success w-100">
                                        <i class="bi bi-plus-circle me-1"></i>
                                        Agregar
                                    </button>
                                </div>
                            </form>
                            
                            <!-- Tabla de Tareas -->
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-sm">
                                    <thead class="table-success">
                                        <tr>
                                            <th>ID</th>
                                            <th>Tarea</th>
                                            <th>Frecuencia</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaTareasMantenimiento">
                                        <tr>
                                            <td colspan="4" class="text-center text-muted">
                                                Cargando tareas...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Registro de Mantenimiento Realizado -->
                        <div class="card p-4 mb-4 border-primary">
                            <h4 class="text-primary">
                                <i class="bi bi-clipboard-check me-2"></i>
                                Registrar Mantenimiento Realizado
                            </h4>
                            
                            <form id="formRegistrarMantenimiento" class="row g-3">
                                <div class="col-md-4">
                                    <label class="form-label small">Equipo/Activo</label>
                                    <select class="form-select" id="equipoMantenimiento" required>
                                        <option value="">Seleccionar equipo</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label small">Tipo de Tarea</label>
                                    <select class="form-select" id="tipoTareaMantenimiento" required>
                                        <option value="">Seleccionar tarea</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label small">Fecha Realización</label>
                                    <input type="date" class="form-control" id="fechaMantenimiento" required>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label small">Observaciones</label>
                                    <textarea class="form-control" id="observacionesMantenimiento" rows="2" 
                                              placeholder="Detalles del mantenimiento realizado..."></textarea>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="bi bi-check-circle me-2"></i>
                                        Registrar Mantenimiento
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Historial de Mantenimientos -->
                        <div class="card p-4 border-info">
                            <h4 class="text-info">
                                <i class="bi bi-clock-history me-2"></i>
                                Historial de Mantenimientos Realizados
                            </h4>
                            
                            <!-- Filtros del Historial -->
                            <div class="mb-3 row g-2">
                                <div class="col-md-4">
                                    <label class="form-label small">Filtrar por Equipo</label>
                                    <select class="form-select" id="filtroEquipoHistorial">
                                        <option value="">Todos los equipos</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label small">Desde</label>
                                    <input type="date" class="form-control" id="filtroFechaDesde">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label small">Hasta</label>
                                    <input type="date" class="form-control" id="filtroFechaHasta">
                                </div>
                                <div class="col-md-2 d-flex align-items-end">
                                    <button class="btn btn-info w-100" onclick="aplicarFiltrosHistorial()">
                                        <i class="bi bi-funnel me-1"></i>
                                        Filtrar
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Tabla del Historial -->
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover table-sm">
                                    <thead class="table-info">
                                        <tr>
                                            <th>Fecha</th>
                                            <th>Equipo</th>
                                            <th>Código</th>
                                            <th>Tarea Realizada</th>
                                            <th>Observaciones</th>
                                            <th>Realizado Por</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaHistorialMantenimiento">
                                        <tr>
                                            <td colspan="7" class="text-center text-muted">
                                                Cargando historial...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: ACCESIBILIDAD -->
                <div class="tab-pane fade" id="nav-accesibilidad">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-warning">Accesibilidad</h2>
                        
                        <!-- Card de Encuesta -->
                        <div class="card p-4 mb-4 border-primary">
                            <h4 class="text-primary mb-3">
                                <i class="bi bi-clipboard-check me-2"></i>
                                Encuesta de Evaluación de Accesibilidad
                            </h4>
                            
                            <!-- Instrucciones -->
                            <div class="alert alert-info">
                                <i class="bi bi-info-circle me-2"></i>
                                Complete esta encuesta para evaluar los diferentes aspectos de accesibilidad en la institución.
                                ✅ Escala recomendada (1 al 5)

                                 1️⃣ = Muy en desacuerdo
                                 No existen o son totalmente insuficientes.

                                 2️⃣ = En desacuerdo
                                Existen algunos accesos, pero no cumplen condiciones mínimas o no son funcionales.

                                 3️⃣ = Ni de acuerdo ni en desacuerdo
                                Hay accesos, pero son limitados, incompletos o no cubren todas las necesidades.

                                 4️⃣ = De acuerdo
                                Los accesos son adecuados y funcionales en la mayoría de los espacios.

                                 5️⃣ = Muy de acuerdo
                                Los accesos son totalmente adecuados, accesibles y cumplen con todas las normas.
                            </div>

                            <!-- Formulario de Encuesta -->
                            <form id="formEncuestaAccesibilidad">
                                <div id="preguntasAccesibilidadContainer">
                                    <div class="text-center">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Cargando...</span>
                                        </div>
                                        <p class="mt-2">Cargando preguntas...</p>
                                    </div>
                                </div>

                               <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <i class="bi bi-send-fill me-2"></i>
                                        Enviar Encuesta
                                    </button>
                                </div>
                            </form>

                            <div id="resultadoAccesibilidad" class="mt-4"></div>
                        </div>

                        <!-- Card de Resultados -->
                        <div class="card p-4 mt-4 border-success">
                            <h4 class="text-success mb-3">
                                <i class="bi bi-bar-chart me-2"></i>
                                Resultados de Encuestas de Accesibilidad
                            </h4>

                            <div class="mb-3">
                                <button class="btn btn-success" id="btnCargarResultados" onclick="cargarResultadosAccesibilidad()">
                                    <i class="bi bi-arrow-clockwise me-2"></i>
                                    Cargar Resultados
                                </button>
                            </div>

                            <!-- Tabla de Resultados -->
                            <div class="table-responsive">
                                <table class="table table-striped table-hover" id="tablaResultadosAccesibilidad">
                                    <thead class="table-success">
                                        <tr>
                                            <th>Módulo</th>
                                            <th>Pregunta</th>
                                            <th>Total de Respuestas</th>
                                            <th>Promedio</th>
                                            <th>Mínimo</th>
                                            <th>Máximo</th>
                                            <th>Evaluación</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaResultadosAccesibilidadBody">
                                        <tr>
                                            <td colspan="7" class="text-center text-muted">
                                                Presione "Cargar Resultados" para ver los datos
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="card mt-4 border-danger">
    <div class="card-header bg-danger text-white">
      <h5 class="mb-0">
        <i class="bi bi-exclamation-triangle me-2"></i>Administración de Respuestas
      </h5>
    </div>
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-4">
          <button class="btn btn-info w-100" onclick="obtenerEstadisticasAccesibilidad()">
            <i class="bi bi-graph-up me-2"></i>Ver Estadísticas
          </button>
        </div>
        <div class="col-md-4">
          <button class="btn btn-warning w-100" onclick="cargarResultadosAccesibilidad()">
            <i class="bi bi-arrow-clockwise me-2"></i>Recargar Resultados
          </button>
        </div>
        <div class="col-md-4">
          <button class="btn btn-danger w-100" onclick="resetearTodasRespuestas()">
            <i class="bi bi-trash3 me-2"></i>Resetear Todas las Respuestas
          </button>
        </div>
      </div>
      
      <div class="alert alert-warning mt-3 mb-0">
        <small>
          <i class="bi bi-exclamation-triangle me-1"></i>
          <strong>Advertencia:</strong> La opción "Resetear Todas las Respuestas" eliminará PERMANENTEMENTE 
          todas las respuestas registradas en la encuesta de accesibilidad. Esta acción NO se puede deshacer.
        </small>
      </div>
    </div>
  </div>
  
  <!-- Contenedor para notificaciones -->
  <div id="resultadoAccesibilidad" class="mt-3"></div>
  
  <!-- ... resto del contenido existente ... -->
</div>

                            <!-- Resumen por Módulo -->
                            <div class="mt-4">
                                <h5>Resumen por Módulo</h5>
                                <div class="row">
                                    <div id="resumenModulosContainer" class="col-12">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TAB: VER CALIFICACIONES -->
                <div class="tab-pane fade" id="nav-calificaciones-admin">
                    <div class="container-fluid py-4">
                        <h2 class="mb-4 text-center text-info">
                            <i class="bi bi-graph-up-arrow me-2"></i>
                            Consulta de Calificaciones
                        </h2>
                        
                        <!-- Selector de Clase -->
                        <div class="card p-4 mb-4 bg-light">
                            <h5>1. Seleccionar Clase</h5>
                            <select class="form-select form-select-lg" id="adminClaseCalificacionesSelector">
                                <option value="">Seleccione una clase</option>
                            </select>
                        </div>

                        <!-- Selector de Parámetros -->
                        <div id="adminSelectorParametros" class="card p-4 mb-4 bg-light" style="display: none;">
                            <h5>2. Seleccione el Parámetro a Visualizar</h5>
                            <div class="d-flex flex-wrap gap-2 justify-content-center">
                                <button class="btn btn-outline-primary btn-param" data-param="trimestre1">Trimestre 1</button>
                                <button class="btn btn-outline-primary btn-param" data-param="trimestre2">Trimestre 2</button>
                                <button class="btn btn-outline-primary btn-param" data-param="trimestre3">Trimestre 3</button>
                                <button class="btn btn-outline-success btn-param" data-param="anual">Promedio Anual</button>
                                <button class="btn btn-outline-warning btn-param" data-param="supletorios">Supletorios</button>
                            </div>
                        </div>

                        <!-- Contenedor de Calificaciones -->
                        <div id="adminCalificacionesContainer">
                            <p class="text-muted text-center">Seleccione una clase y un parámetro para ver los datos</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    

    <!-- Scripts -->
     <script src="js/general.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/general.js"></script> 
    <script src="js/cache.js"></script>
    <script src="js/debug-asignaturas.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/accesibilidad.js"></script>

    <script>
        // ===============================
        // FUNCIONES PARA MENÚ COLAPSABLE
        // ===============================

        function toggleSubMenu(submenuId, btnId) {
            const submenu = document.getElementById(submenuId);
            const btn = document.getElementById(btnId);
            
            submenu.classList.toggle('active');
            btn.classList.toggle('expanded');
        }

        // Cerrar submenú cuando se selecciona una opción
        document.querySelectorAll('.submenu-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Agregar clase active al botón clickeado
                document.querySelectorAll('.submenu-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>